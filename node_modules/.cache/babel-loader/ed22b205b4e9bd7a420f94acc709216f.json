{"ast":null,"code":"var _jsxFileName = \"/Users/winniebran/Desktop/Kenzie-Academy/Entregas-Kenzie/Modulo3/sprint3/react-entrega-kenzie-hub-winniebran/src/contexts/TechsContext.jsx\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { ApiRequests } from \"../services/apiRequests\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TechsContext = /*#__PURE__*/createContext({});\nexport const TechsProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showEditAndDeleteModal, setShowEditAndDeleteModal] = useState(false);\n  const [currentTech, setCurrentTech] = useState(null);\n  const {\n    user,\n    logout\n  } = useContext(UserContext);\n\n  const getUserTechs = async () => {\n    try {\n      const response = await ApiRequests.get(\"/profile\");\n      setUser(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const addTechsModal = async data => {\n    // reset()\n    try {\n      await ApiRequests.post(\"/users/techs\", data);\n      toast.success(\"Tecnologia criada com sucesso.\");\n      setShowAddModal(false);\n    } catch (error) {\n      console.log(error);\n      toast.error(\"Essa tecnologia já foi criada, é possível editá-la.\");\n    }\n  };\n\n  const editTechsModal = async (data, id) => {\n    // reset()\n    try {\n      await ApiRequests.put(`/users/techs/${id}`, data);\n      toast.success(\"Tecnologia editada com sucesso.\");\n      setShowEditAndDeleteModal(false);\n    } catch (error) {\n      console.log(error);\n      toast.error(\"blabla\");\n    }\n  };\n\n  const deleteTechsModal = async id => {\n    // reset()\n    try {\n      await ApiRequests.delete(`/users/techs/${id}`);\n      toast.success(\"Tecnologia excluída com sucesso.\");\n      setShowEditAndDeleteModal(false);\n    } catch (error) {\n      console.log(error);\n      toast.error(\"Não foi possivel excluir\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(TechsContext.Provider, {\n    value: {\n      addTechsModal,\n      editTechsModal,\n      deleteTechsModal,\n      showAddModal,\n      setShowAddModal,\n      showEditAndDeleteModal,\n      setShowEditAndDeleteModal,\n      currentTech,\n      setCurrentTech\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TechsProvider, \"TBbtaX3qj/MW6uWfc5IvP8ZlA/s=\");\n\n_c = TechsProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"TechsProvider\");","map":{"version":3,"names":["createContext","useState","toast","ApiRequests","TechsContext","TechsProvider","children","showAddModal","setShowAddModal","showEditAndDeleteModal","setShowEditAndDeleteModal","currentTech","setCurrentTech","user","logout","useContext","UserContext","getUserTechs","response","get","setUser","data","error","console","log","addTechsModal","post","success","editTechsModal","id","put","deleteTechsModal","delete"],"sources":["/Users/winniebran/Desktop/Kenzie-Academy/Entregas-Kenzie/Modulo3/sprint3/react-entrega-kenzie-hub-winniebran/src/contexts/TechsContext.jsx"],"sourcesContent":["import { createContext, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { ApiRequests } from \"../services/apiRequests\";\n\nexport const TechsContext = createContext({});\n\nexport const TechsProvider = ({ children }) => {\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showEditAndDeleteModal, setShowEditAndDeleteModal] = useState(false);\n  const [currentTech, setCurrentTech] = useState(null)\n\n  const { user, logout } = useContext(UserContext);\n\n  const getUserTechs = async () => {\n    try {\n      const response = await ApiRequests.get(\"/profile\");\n      setUser(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const addTechsModal = async (data) => {\n    // reset()\n    try {\n      await ApiRequests.post(\"/users/techs\", data);\n      toast.success(\"Tecnologia criada com sucesso.\");\n      setShowAddModal(false)\n    } catch (error) {\n      console.log(error);\n      toast.error(\"Essa tecnologia já foi criada, é possível editá-la.\");\n    }\n  };\n\n  const editTechsModal = async (data, id) => {\n    // reset()\n    try {\n      await ApiRequests.put(`/users/techs/${id}`, data);\n      toast.success(\"Tecnologia editada com sucesso.\");\n      setShowEditAndDeleteModal(false)\n    } catch (error) {\n      console.log(error);\n      toast.error(\"blabla\");\n    }\n  };\n\n  const deleteTechsModal = async (id) => {\n    // reset()\n    try {\n      await ApiRequests.delete(`/users/techs/${id}`);\n      toast.success(\"Tecnologia excluída com sucesso.\");\n      setShowEditAndDeleteModal(false)\n    } catch (error) {\n      console.log(error);\n      toast.error(\"Não foi possivel excluir\");\n    }\n  };\n\n  return (\n    <TechsContext.Provider value={{ addTechsModal, editTechsModal, deleteTechsModal, showAddModal, setShowAddModal, showEditAndDeleteModal, setShowEditAndDeleteModal, currentTech, setCurrentTech }}>\n      {children}\n    </TechsContext.Provider>\n  );\n};\n"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,OAAxC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,WAAT,QAA4B,yBAA5B;;AAEA,OAAO,MAAMC,YAAY,gBAAGJ,aAAa,CAAC,EAAD,CAAlC;AAEP,OAAO,MAAMK,aAAa,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC7C,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAC,KAAD,CAAhD;EACA,MAAM,CAACQ,sBAAD,EAAyBC,yBAAzB,IAAsDT,QAAQ,CAAC,KAAD,CAApE;EACA,MAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,IAAD,CAA9C;EAEA,MAAM;IAAEY,IAAF;IAAQC;EAAR,IAAmBC,UAAU,CAACC,WAAD,CAAnC;;EAEA,MAAMC,YAAY,GAAG,YAAY;IAC/B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMf,WAAW,CAACgB,GAAZ,CAAgB,UAAhB,CAAvB;MACAC,OAAO,CAACF,QAAQ,CAACG,IAAV,CAAP;IACD,CAHD,CAGE,OAAOC,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACD;EACF,CAPD;;EASA,MAAMG,aAAa,GAAG,MAAOJ,IAAP,IAAgB;IACpC;IACA,IAAI;MACF,MAAMlB,WAAW,CAACuB,IAAZ,CAAiB,cAAjB,EAAiCL,IAAjC,CAAN;MACAnB,KAAK,CAACyB,OAAN,CAAc,gCAAd;MACAnB,eAAe,CAAC,KAAD,CAAf;IACD,CAJD,CAIE,OAAOc,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACApB,KAAK,CAACoB,KAAN,CAAY,qDAAZ;IACD;EACF,CAVD;;EAYA,MAAMM,cAAc,GAAG,OAAOP,IAAP,EAAaQ,EAAb,KAAoB;IACzC;IACA,IAAI;MACF,MAAM1B,WAAW,CAAC2B,GAAZ,CAAiB,gBAAeD,EAAG,EAAnC,EAAsCR,IAAtC,CAAN;MACAnB,KAAK,CAACyB,OAAN,CAAc,iCAAd;MACAjB,yBAAyB,CAAC,KAAD,CAAzB;IACD,CAJD,CAIE,OAAOY,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACApB,KAAK,CAACoB,KAAN,CAAY,QAAZ;IACD;EACF,CAVD;;EAYA,MAAMS,gBAAgB,GAAG,MAAOF,EAAP,IAAc;IACrC;IACA,IAAI;MACF,MAAM1B,WAAW,CAAC6B,MAAZ,CAAoB,gBAAeH,EAAG,EAAtC,CAAN;MACA3B,KAAK,CAACyB,OAAN,CAAc,kCAAd;MACAjB,yBAAyB,CAAC,KAAD,CAAzB;IACD,CAJD,CAIE,OAAOY,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACApB,KAAK,CAACoB,KAAN,CAAY,0BAAZ;IACD;EACF,CAVD;;EAYA,oBACE,QAAC,YAAD,CAAc,QAAd;IAAuB,KAAK,EAAE;MAAEG,aAAF;MAAiBG,cAAjB;MAAiCG,gBAAjC;MAAmDxB,YAAnD;MAAiEC,eAAjE;MAAkFC,sBAAlF;MAA0GC,yBAA1G;MAAqIC,WAArI;MAAkJC;IAAlJ,CAA9B;IAAA,UACGN;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CAzDM;;GAAMD,a;;KAAAA,a"},"metadata":{},"sourceType":"module"}